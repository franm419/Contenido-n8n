# ğŸ“£ LinkedIn Content Workflow â€“ n8n (Flux 1.1 Pro)

Workflow built in **n8n** to automate the creation and publishing of LinkedIn posts with both **text and images**.

- **Text generation:** OpenAI Chat model (e.g., `gpt-4o-mini` or similar)
- **Image generation:** **Replicate â€“ Flux 1.1 Pro** (`black-forest-labs/flux-1.1-pro`)
- **Publish:** LinkedIn (post with text + image URL)

> **What changed vs. previous version?**  
> Image creation now uses **Replicate Flux 1.1 Pro**. DALLÂ·E was removed. This improves style control and reduces cost variability.


---

## ğŸš€ Executive Summary
This workflow accelerates content production for LinkedIn by:
1) Generating an **optimized post text** with OpenAI.  
2) Creating a **visual prompt** and generating the **image** with **Replicate Flux 1.1 Pro**.  
3) Automatically combining **text + image** into a single LinkedIn post (organization/account).

Itâ€™s designed for **marketing and content teams** who want to standardize tone, improve consistency, and reduce manual work in creating visually attractive LinkedIn posts.


---

## ğŸ§± Architecture (high level)
1. **Prompt Builder (Text)** â†’ crafts the post copy (tone/length/CTA).  
2. **Image Prompt Builder** â†’ crafts a concise visual prompt (style/objects/brand).  
3. **Image Generator (HTTP Request â†’ Replicate)** â†’ creates the image with **Flux 1.1 Pro** and returns a hosted URL.  
4. **Publisher (LinkedIn)** â†’ posts **text + image**.

**Replicate request details (n8n â€“ HTTP Request node):**
- **Method:** `POST`  
- **URL:** `https://api.replicate.com/v1/models/black-forest-labs/flux-1.1-pro/predictions`  
- **Headers:**  
  - `Authorization: Token {{ $json.REPLICATE_API_TOKEN }}`  
  - `Content-Type: application/json`  
  - `Prefer: wait`  â† blocks until image is ready
- **Body (JSON, example):**
```json
{
  "input": {
    "prompt": "{{ $json.image_prompt }}",
    "aspect_ratio": "1:1"
  }
}
```
- **Response:** an object with the generated image URL (usually in `output[0]`). Map that URL into the LinkedIn node.


---

## ğŸ”§ Setup

### Credentials / Environment
Create or configure credentials in n8n (or environment variables if you prefer). Minimum required:

- `OPENAI_API_KEY` â€“ for text generation.
- `REPLICATE_API_TOKEN` â€“ for Flux 1.1 Pro image generation.
- **LinkedIn** access (OAuth/App Token) â€“ to publish posts with image.

> **Security:** never commit secrets. Keep them in n8n credentials, environment variables, or a secure vault.


### Import the workflow
1. Open **n8n** â†’ **Workflows** â†’ **Import from file**.  
2. Select `My workflow 5.json` (this repo).  
3. Open the workflow and set credentials for:
   - OpenAI (chat model)
   - Replicate (HTTP Request node header `Authorization`)
   - LinkedIn (post node)

### Test
1. In the **Prompt** node, set a topic (e.g., â€œAI in customer supportâ€).  
2. Run the workflow.  
3. Confirm:  
   - A public image URL is returned by the Replicate node.  
   - LinkedIn node receives **text + image URL** and posts successfully.


---

## ğŸ§© Inputs & Outputs

**Inputs**
- Topic or brief (e.g., campaign/product/announcement)
- Desired tone (friendly/professional), language, hashtags
- Optional brand hints (colors, motifs)

**Outputs**
- Final **LinkedIn post text**
- **Image URL** generated by Flux 1.1 Pro
- Published post on LinkedIn (or draft, depending on node config)


---

## ğŸ›ï¸ Customization

- **Model & Cost:** use `gpt-4o-mini` (fast & costâ€‘efficient) for copy.  
- **Image Style:** adjust the visual prompt and `aspect_ratio` (`1:1`, `16:9`, etc.).  
- **Brand Voice:** keep a brand style guide prompt to maintain tone across posts.  
- **Safeties:** validate links, spell-check, and keep an approval gate before posting in production.


---

## ğŸ›¡ï¸ Notes on Replicate usage
- Keep your **`REPLICATE_API_TOKEN`** secret (credentials, not source control).  
- For higher throughput, remove `Prefer: wait` and poll prediction status (two-step flow).  
- Respect model and platform terms of use.


---

## ğŸ“‚ Repository Contents
- `My workflow 5.json` â€“ n8n workflow (updated to **Flux 1.1 Pro**).  
- `README.md` â€“ this document.


---

## ğŸ‘¤ Author
**Francisco Moyano Escalera** â€“ Specialist in Data, AI & Automation  
ğŸ“§ frannmmm419@gmail.com  
ğŸŒ GitHub: [franm419](https://github.com/franm419)


